!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pingpp=e()}(function(){return function i(l,o,c){function s(n,e){if(!o[n]){if(!l[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var a=o[n]={exports:{}};l[n][0].call(a.exports,function(e){return s(l[n][1][e]||e)},a,a.exports,i,l,o,c)}return o[n].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,n,t){var i={}.hasOwnProperty,l=e('./callbacks'),o=e('./utils');n.exports={signAgreement:function(e){var n;if('string'==typeof e)try{n=JSON.parse(e)}catch(e){return l.innerAgreementCallback('fail',l.error('json_decode_fail',e)),!1}else n=e;if(void 0===n)return l.innerAgreementCallback('fail',l.error('json_decode_fail')),!1;if(!i.call(n,'object')||'agreement'!==n.object||!i.call(n,'channel')||!i.call(n,'credential')||'object'!=typeof n.credential)return l.innerAgreementCallback('fail',l.error('invalid_object')),!1;if(!i.call(n.credential,n.channel))return l.innerAgreementCallback('fail',l.error('invalid_credential')),!1;var t,r,a=n.credential[n.channel];return'string'==typeof a?r=a:i.call(a,'credential')&&'string'==typeof a.credential&&(r=a.credential),void 0===r?(l.innerAgreementCallback('fail',l.error('invalid_credential')),!1):('alipay'===n.channel.substring(0,6)&&(t=new URL(r),r='http://d.alipay.com/i/index.htm?iframeSrc='+encodeURIComponent("alipays://platformapi/startapp?appId=60000157&appClearTop=false&startMultApp=YES&sign_params="+encodeURIComponent(t.search.substring(1)))),setTimeout(function(){o.redirectTo(r)},0),!0)}}},{"./callbacks":2,"./utils":16}],2:[function(t,e,n){e.exports={userCallback:void 0,urlReturnCallback:void 0,urlReturnChannels:['alipay_pc_direct'],userAgreementCallback:void 0,innerCallback:function(e,n){'function'==typeof this.userCallback&&(void 0===n&&(n=this.error()),this.userCallback(e,n),this.userCallback=void 0,t('./payment_elements').clear())},error:function(e,n){return{msg:e=void 0===e?'':e,extra:n=void 0===n?'':n}},triggerUrlReturnCallback:function(e,n){'function'==typeof this.urlReturnCallback&&this.urlReturnCallback(e,n)},shouldReturnUrlByCallback:function(e){return'function'==typeof this.urlReturnCallback&&-1!==this.urlReturnChannels.indexOf(e)},innerAgreementCallback:function(e,n){'function'==typeof this.userAgreementCallback&&(void 0===n&&(n=this.error()),this.userAgreementCallback(e,n),this.userAgreementCallback=void 0)}}},{"./payment_elements":13}],3:[function(e,n,t){var l=e('../utils'),o=e('../mods'),c={}.hasOwnProperty;n.exports={ALIPAY_WAP_URL_OLD:'https://wappaygw.alipay.com/service/rest.htm',ALIPAY_WAP_URL:'https://mapi.alipay.com/gateway.do',handleCharge:function(e){var n=e.channel,t=e.credential[n],r=this.ALIPAY_WAP_URL;c.call(t,'req_data')?r=this.ALIPAY_WAP_URL_OLD:c.call(t,'channel_url')&&(r=t.channel_url),c.call(t,'_input_charset')||(c.call(t,'service')&&'alipay.wap.create.direct.pay.by.user'===t.service||c.call(t,'req_data'))&&(t._input_charset='utf-8');var a=r+'?'+l.stringifyData(t,n,!0),i=o.getExtraModule('ap');l.inWeixin()&&void 0!==i?i.pay(a):l.redirectTo(a,n)}}},{"../mods":12,"../utils":16}],4:[function(e,n,t){var a=e('../stash'),i=e('../callbacks'),l={}.hasOwnProperty;n.exports={PINGPP_NOTIFY_URL_BASE:'https://notify.pingxx.com/notify',handleCharge:function(e){for(var n=e.credential[e.channel],t=['appId','timeStamp','nonceStr','package','signType','paySign'],r=0;r<t.length;r++)if(!l.call(n,t[r]))return void i.innerCallback('fail',i.error('invalid_credential','missing_field_'+t[r]));a.jsApiParameters=n,this.callpay()},wxLiteEnabled:function(){return'undefined'!=typeof wx&&wx.requestPayment},callpay:function(){var e;this.wxLiteEnabled()?(delete(e=a.jsApiParameters).appId,e.complete=function(e){'requestPayment:ok'===e.errMsg&&i.innerCallback('success'),'requestPayment:cancel'!==e.errMsg&&'requestPayment:fail cancel'!==e.errMsg||i.innerCallback('cancel',i.error('用户取消支付')),'undefined'!==e.err_code&&'undefined'!==e.err_desc&&i.innerCallback('fail',i.error(e.err_desc,e))},wx.requestPayment(e)):console.log('请在微信小程序中打开')},runTestMode:function(e){var n='/charges/'+e.id;wx.request({url:this.PINGPP_NOTIFY_URL_BASE+n+'?livemode=false',success:function(e){'success'==e.data?i.innerCallback('success'):i.innerCallback('fail',i.error('testmode_notify_fail'))},fail:function(){i.innerCallback('fail',i.error('network_err'))}})}}},{"../callbacks":2,"../stash":14}],5:[function(e,n,t){var a=e('../callbacks'),r=e('../utils'),i=e('../stash'),l=e('../mods'),o={}.hasOwnProperty;n.exports={PINGPP_NOTIFY_URL_BASE:'https://notify.pingxx.com/notify',handleCharge:function(e){for(var n=e.credential[e.channel],t=['appId','timeStamp','nonceStr','package','signType','paySign'],r=0;r<t.length;r++)if(!o.call(n,t[r]))return void a.innerCallback('fail',a.error('invalid_credential','missing_field_'+t[r]));i.jsApiParameters=n,this.callpay()},callpay:function(){var e,n=this,t=l.getExtraModule('wx_jssdk');void 0!==t&&t.jssdkEnabled()?t.callpay():'undefined'==typeof WeixinJSBridge?(e=function(){n.jsApiCall()},document.addEventListener?document.addEventListener('WeixinJSBridgeReady',e,!1):document.attachEvent&&(document.attachEvent('WeixinJSBridgeReady',e),document.attachEvent('onWeixinJSBridgeReady',e))):this.jsApiCall()},jsApiCall:function(){o.call(i,'jsApiParameters')&&WeixinJSBridge.invoke('getBrandWCPayRequest',i.jsApiParameters,function(e){delete i.jsApiParameters,'get_brand_wcpay_request:ok'==e.err_msg?a.innerCallback('success'):'get_brand_wcpay_request:cancel'==e.err_msg?a.innerCallback('cancel'):a.innerCallback('fail',a.error('wx_result_fail',e.err_msg))})},runTestMode:function(e){var n;confirm('模拟付款？')&&(n='/charges/'+e.id,r.request(this.PINGPP_NOTIFY_URL_BASE+n+'?livemode=false','GET',null,function(e,n){var t;200<=n&&n<400&&'success'==e?a.innerCallback('success'):(t='http_code:'+n+';response:'+e,a.innerCallback('fail',a.error('testmode_notify_fail',t)))},function(){a.innerCallback('fail',a.error('network_err'))}))}}},{"../callbacks":2,"../mods":12,"../stash":14,"../utils":16}],6:[function(e,n,t){var r=e('../utils'),a=e('../callbacks'),i={}.hasOwnProperty;n.exports={handleCharge:function(e){var n=e.credential[e.channel];'string'==typeof n?r.redirectTo(n,e.channel):'object'==typeof n&&i.call(n,'url')?r.redirectTo(n.url,e.channel):a.innerCallback('fail',a.error('invalid_credential','credential 格式不正确'))}}},{"../callbacks":2,"../utils":16}],7:[function(e,n,t){function i(e,n){var t=new RegExp('(^|&)'+n+'=([^&]*)(&|$)','i'),r=e.substring(0).match(t);return null!==r?unescape(r[2]):null}var l=e('./utils'),a=e('./stash'),o=e('./libs/md5'),r={seperator:'###',limit:1,report_url:'https://statistics.pingxx.com/one_stats',timeout:100};r.store=function(e){if(!l.inWxLite()&&!l.inAlipayLite()&&'undefined'!=typeof localStorage&&null!==localStorage){var n={};n.app_id=e.app_id||a.app_id||'app_not_defined',n.ch_id=e.ch_id||'',n.channel=e.channel||'',n.type=e.type||'',n.user_agent='undefined'==typeof navigator?'':navigator.userAgent,n.host='undefined'==typeof window?'':window.location.host,n.time=(new Date).getTime(),n.puid=a.puid;var t='app_id='+n.app_id+'&channel='+n.channel+'&ch_id='+n.ch_id+'&host='+n.host+'&time='+n.time+'&type='+n.type+'&user_agent='+n.user_agent+'&puid='+n.puid,r=t;null!==localStorage.getItem('PPP_ONE_STATS')&&0!==localStorage.getItem('PPP_ONE_STATS').length&&(r=localStorage.getItem('PPP_ONE_STATS')+this.seperator+t);try{localStorage.setItem('PPP_ONE_STATS',r)}catch(e){}}},r.send=function(){if('undefined'!=typeof localStorage&&null!==localStorage){var e=localStorage.getItem('PPP_ONE_STATS');if(!(null===e||e.split(this.seperator).length<this.limit))try{for(var n=[],t=e.split(this.seperator),r=o(t.join('&')),a=0;a<t.length;a++)n.push({app_id:i(t[a],'app_id'),channel:i(t[a],'channel'),ch_id:i(t[a],'ch_id'),host:i(t[a],'host'),time:i(t[a],'time'),type:i(t[a],'type'),user_agent:i(t[a],'user_agent'),puid:i(t[a],'puid')});l.request(this.report_url,'POST',n,function(e,n){200==n&&localStorage.removeItem('PPP_ONE_STATS')},void 0,{'X-Pingpp-Report-Token':r})}catch(e){}}},r.report=function(e){var n;l.inWxLite()||l.inAlipayLite()||((n=this).store(e),setTimeout(function(){n.send()},n.timeout))},n.exports=r},{"./libs/md5":10,"./stash":14,"./utils":16}],8:[function(e,n,t){n.exports={Error:function(e,n){this.message=e,this.extra=n}}},{}],9:[function(e,n,t){var r=e('./stash'),a=e('./utils'),i=e('./collection');n.exports={SRC_URL:'https://cookie.pingxx.com',init:function(){var e=this;a.documentReady(function(){try{a.inWxLite()||a.inAlipayLite()||e.initPuid()}catch(e){}})},initPuid:function(){if('undefined'!=typeof window&&'undefined'!=typeof localStorage&&null!==localStorage){var n,e=localStorage.getItem('pingpp_uid');if(null===e){e=a.randomString();try{localStorage.setItem('pingpp_uid',e)}catch(e){}}if(r.puid=e,!document.getElementById('p_analyse_iframe')){try{n=document.createElement('iframe')}catch(e){n=document.createElement('<iframe name="ifr"></iframe>')}n.id='p_analyse_iframe',n.src=this.SRC_URL+'/?puid='+e,n.style.display='none',document.body.appendChild(n)}setTimeout(function(){i.send()},0)}}}},{"./collection":7,"./stash":14,"./utils":16}],10:[function(e,n,t){function d(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}function o(e,n,t,r,a,i){return d((l=d(d(n,e),d(r,i)))<<(o=a)|l>>>32-o,t);var l,o}function f(e,n,t,r,a,i,l){return o(n&t|~n&r,e,n,a,i,l)}function p(e,n,t,r,a,i,l){return o(n&r|t&~r,e,n,a,i,l)}function h(e,n,t,r,a,i,l){return o(n^t^r,e,n,a,i,l)}function m(e,n,t,r,a,i,l){return o(t^(n|~r),e,n,a,i,l)}function c(e,n){var t,r,a,i;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;for(var l=1732584193,o=-271733879,c=-1732584194,s=271733878,u=0;u<e.length;u+=16)l=f(t=l,r=o,a=c,i=s,e[u],7,-680876936),s=f(s,l,o,c,e[u+1],12,-389564586),c=f(c,s,l,o,e[u+2],17,606105819),o=f(o,c,s,l,e[u+3],22,-1044525330),l=f(l,o,c,s,e[u+4],7,-176418897),s=f(s,l,o,c,e[u+5],12,1200080426),c=f(c,s,l,o,e[u+6],17,-1473231341),o=f(o,c,s,l,e[u+7],22,-45705983),l=f(l,o,c,s,e[u+8],7,1770035416),s=f(s,l,o,c,e[u+9],12,-1958414417),c=f(c,s,l,o,e[u+10],17,-42063),o=f(o,c,s,l,e[u+11],22,-1990404162),l=f(l,o,c,s,e[u+12],7,1804603682),s=f(s,l,o,c,e[u+13],12,-40341101),c=f(c,s,l,o,e[u+14],17,-1502002290),l=p(l,o=f(o,c,s,l,e[u+15],22,1236535329),c,s,e[u+1],5,-165796510),s=p(s,l,o,c,e[u+6],9,-1069501632),c=p(c,s,l,o,e[u+11],14,643717713),o=p(o,c,s,l,e[u],20,-373897302),l=p(l,o,c,s,e[u+5],5,-701558691),s=p(s,l,o,c,e[u+10],9,38016083),c=p(c,s,l,o,e[u+15],14,-660478335),o=p(o,c,s,l,e[u+4],20,-405537848),l=p(l,o,c,s,e[u+9],5,568446438),s=p(s,l,o,c,e[u+14],9,-1019803690),c=p(c,s,l,o,e[u+3],14,-187363961),o=p(o,c,s,l,e[u+8],20,1163531501),l=p(l,o,c,s,e[u+13],5,-1444681467),s=p(s,l,o,c,e[u+2],9,-51403784),c=p(c,s,l,o,e[u+7],14,1735328473),l=h(l,o=p(o,c,s,l,e[u+12],20,-1926607734),c,s,e[u+5],4,-378558),s=h(s,l,o,c,e[u+8],11,-2022574463),c=h(c,s,l,o,e[u+11],16,1839030562),o=h(o,c,s,l,e[u+14],23,-35309556),l=h(l,o,c,s,e[u+1],4,-1530992060),s=h(s,l,o,c,e[u+4],11,1272893353),c=h(c,s,l,o,e[u+7],16,-155497632),o=h(o,c,s,l,e[u+10],23,-1094730640),l=h(l,o,c,s,e[u+13],4,681279174),s=h(s,l,o,c,e[u],11,-358537222),c=h(c,s,l,o,e[u+3],16,-722521979),o=h(o,c,s,l,e[u+6],23,76029189),l=h(l,o,c,s,e[u+9],4,-640364487),s=h(s,l,o,c,e[u+12],11,-421815835),c=h(c,s,l,o,e[u+15],16,530742520),l=m(l,o=h(o,c,s,l,e[u+2],23,-995338651),c,s,e[u],6,-198630844),s=m(s,l,o,c,e[u+7],10,1126891415),c=m(c,s,l,o,e[u+14],15,-1416354905),o=m(o,c,s,l,e[u+5],21,-57434055),l=m(l,o,c,s,e[u+12],6,1700485571),s=m(s,l,o,c,e[u+3],10,-1894986606),c=m(c,s,l,o,e[u+10],15,-1051523),o=m(o,c,s,l,e[u+1],21,-2054922799),l=m(l,o,c,s,e[u+8],6,1873313359),s=m(s,l,o,c,e[u+15],10,-30611744),c=m(c,s,l,o,e[u+6],15,-1560198380),o=m(o,c,s,l,e[u+13],21,1309151649),l=m(l,o,c,s,e[u+4],6,-145523070),s=m(s,l,o,c,e[u+11],10,-1120210379),c=m(c,s,l,o,e[u+2],15,718787259),o=m(o,c,s,l,e[u+9],21,-343485551),l=d(l,t),o=d(o,r),c=d(c,a),s=d(s,i);return[l,o,c,s]}function s(e){for(var n='',t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var n,t=[];for(t[(e.length>>2)-1]=void 0,n=0;n<t.length;n+=1)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function r(e){for(var n,t='0123456789abcdef',r='',a=0;a<e.length;a+=1)n=e.charCodeAt(a),r+=t.charAt(n>>>4&15)+t.charAt(15&n);return r}function a(e){return unescape(encodeURIComponent(e))}function i(e){return s(c(u(n=a(e)),8*n.length));var n}function l(e,n){return function(e,n){var t,r,a=u(e),i=[],l=[];for(i[15]=l[15]=void 0,16<a.length&&(a=c(a,8*e.length)),t=0;t<16;t+=1)i[t]=909522486^a[t],l[t]=1549556828^a[t];return r=c(i.concat(u(n)),512+8*n.length),s(c(l.concat(r),640))}(a(e),a(n))}n.exports=function(e,n,t){return n?t?l(n,e):r(l(n,e)):t?i(e):r(i(e))}},{}],11:[function(e,n,t){function PingppSDK(){e('./init').init()}var r=e('./version').v,l={}.hasOwnProperty;PingppSDK.prototype.version=r,n.exports=new PingppSDK;var o=e('./testmode'),c=e('./callbacks'),s=e('./errors').Error,u=e('./mods'),d=e('./stash'),f=e('./collection'),p=e('./payment_elements');PingppSDK.prototype.createPayment=function(e,n,t,r){'function'==typeof n&&(c.userCallback=n);try{p.init(e)}catch(e){if(e instanceof s)return void c.innerCallback('fail',c.error(e.message,e.extra));throw e}if(l.call(p,'id'))if(l.call(p,'channel')){l.call(p,'app')&&('string'==typeof p.app?d.app_id=p.app:'object'==typeof p.app&&'string'==typeof p.app.id&&(d.app_id=p.app.id)),f.report({type:d.type||'pure_sdk_click',channel:p.channel,ch_id:p.id});var a=p.channel;if(l.call(p,'credential'))if(p.paid&&0===p.actual_amount)c.innerCallback('success');else if(p.credential)if(l.call(p.credential,a))if(l.call(p,'livemode')){var i=u.getChannelModule(a);if(void 0===i)return console.error('channel module "'+a+'" is undefined'),void c.innerCallback('fail',c.error('invalid_channel','channel module "'+a+'" is undefined'));!1!==p.livemode?(void 0!==t&&(d.signature=t),'boolean'==typeof r&&(d.debug=r),i.handleCharge(p)):l.call(i,'runTestMode')?i.runTestMode(p):o.runTestMode(p)}else c.innerCallback('fail',c.error('invalid_charge','no_livemode_field'));else c.innerCallback('fail',c.error('invalid_credential','credential_is_incorrect'));else c.innerCallback('fail',c.error('invalid_credential','credential_is_undefined'));else c.innerCallback('fail',c.error('invalid_charge','no_credential'))}else c.innerCallback('fail',c.error('invalid_charge','no_channel'));else c.innerCallback('fail',c.error('invalid_charge','no_charge_id'))},PingppSDK.prototype.setAPURL=function(e){d.APURL=e},PingppSDK.prototype.setUrlReturnCallback=function(e,n){if('function'!=typeof e)throw'callback need to be a function';if(c.urlReturnCallback=e,void 0!==n){if(!Array.isArray(n))throw'channels need to be an array';c.urlReturnChannels=n}},PingppSDK.prototype.signAgreement=function(e,n){'function'==typeof n&&(c.userAgreementCallback=n);var t=u.getExtraModule('agreement');return void 0===t?(console.error('module "agreement" is undefined'),c.innerCallback('fail',c.error('invalid_module','module "agreement" is undefined')),!1):t.signAgreement(e)}},{"./callbacks":2,"./collection":7,"./errors":8,"./init":9,"./mods":12,"./payment_elements":13,"./stash":14,"./testmode":15,"./version":17}],12:[function(e,n,t){var r={}.hasOwnProperty,a={};(n.exports=a).channels={alipay_wap:e('./channels/alipay_wap'),wx_wap:e('./channels/wx_wap'),wx_lite:e('./channels/wx_lite'),wx_pub:e('./channels/wx_pub')},a.extras={agreement:e('./agreement')},a.getChannelModule=function(e){if(r.call(a.channels,e))return a.channels[e]},a.getExtraModule=function(e){if(r.call(a.extras,e))return a.extras[e]}},{"./agreement":1,"./channels/alipay_wap":3,"./channels/wx_lite":4,"./channels/wx_pub":5,"./channels/wx_wap":6}],13:[function(e,n,t){var i=e('./errors').Error,l={}.hasOwnProperty;n.exports={id:null,or_id:null,channel:null,app:null,credential:{},extra:null,livemode:null,order_no:null,time_expire:null,paid:!1,status:null,actual_amount:null,init:function(e){var n;if('string'==typeof e)try{n=JSON.parse(e)}catch(e){throw new i('json_decode_fail',e)}else n=e;if(void 0===n)throw new i('json_decode_fail');if(l.call(n,'object')&&'order'==n.object){n.or_id=n.id,n.order_no=n.merchant_order_no;var t=n.charge_essentials;if(n.channel=t.channel,n.credential=t.credential,n.extra=t.extra,l.call(n,'charge')&&null!=n.charge)n.id=n.charge;else if(l.call(t,'id')&&null!=t.id)n.id=t.id;else if(l.call(n,'charges'))for(var r=0;r<n.charges.data.length;r++)if(n.charges.data[r].channel===t.channel){n.id=n.charges.data[r].id;break}}else l.call(n,'object')&&'recharge'==n.object&&(n=n.charge);for(var a in this)l.call(n,a)&&(this[a]=n[a]);return this},clear:function(){for(var e in this)'function'!=typeof this[e]&&(this[e]=null)}}},{"./errors":8}],14:[function(e,n,t){n.exports={}},{}],15:[function(e,n,t){var r=e('./utils'),a={}.hasOwnProperty;n.exports={PINGPP_MOCK_URL:'http://sissi.pingxx.com/mock.php',runTestMode:function(e){var n={ch_id:e.id,scheme:'http',channel:e.channel};a.call(e,'order_no')?n.order_no=e.order_no:a.call(e,'orderNo')&&(n.order_no=e.orderNo),a.call(e,'time_expire')?n.time_expire=e.time_expire:a.call(e,'timeExpire')&&(n.time_expire=e.timeExpire),a.call(e,'extra')&&(n.extra=encodeURIComponent(JSON.stringify(e.extra))),r.redirectTo(this.PINGPP_MOCK_URL+'?'+r.stringifyData(n),e.channel)}}},{"./utils":16}],16:[function(e,n,t){var r=e('./callbacks'),c={}.hasOwnProperty,s=n.exports={stringifyData:function(e,n,t){void 0===t&&(t=!1);var r=[];for(var a in e)c.call(e,a)&&'function'!=typeof e[a]&&('bfb_wap'==n&&'url'==a||'yeepay_wap'==n&&'mode'==a||'channel_url'!=a&&r.push(a+'='+(t?encodeURIComponent(e[a]):e[a])));return r.join('&')},request:function(e,n,t,r,a,i){if('undefined'!=typeof XMLHttpRequest){var l=new XMLHttpRequest;if(void 0!==l.timeout&&(l.timeout=6e3),'GET'===(n=n.toUpperCase())&&'object'==typeof t&&t&&(e+='?'+s.stringifyData(t,'',!0)),l.open(n,e,!0),void 0!==i)for(var o in i)c.call(i,o)&&l.setRequestHeader(o,i[o]);'POST'===n?(l.setRequestHeader('Content-type','application/json; charset=utf-8'),l.send(JSON.stringify(t))):l.send(),void 0===r&&(r=function(){}),void 0===a&&(a=function(){}),l.onreadystatechange=function(){4==l.readyState&&r(l.responseText,l.status,l)},l.onerror=function(e){a(l,0,e)}}else console.log('Function XMLHttpRequest is undefined.')},formSubmit:function(e,n,t){if('undefined'!=typeof window){var r,a=document.createElement('form');for(var i in a.setAttribute('method',n),a.setAttribute('action',e),t){c.call(t,i)&&((r=document.createElement('input')).setAttribute('type','hidden'),r.setAttribute('name',i),r.setAttribute('value',t[i]),a.appendChild(r))}document.body.appendChild(a),a.submit()}else console.log('Not a browser, form submit url: '+e)},randomString:function(e){void 0===e&&(e=32);for(var n='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',t=n.length,r='',a=0;a<e;a++)r+=n.charAt(Math.floor(Math.random()*t));return r},redirectTo:function(e,n){r.shouldReturnUrlByCallback(n)?r.triggerUrlReturnCallback(null,e):'undefined'!=typeof window?window.location.href=e:console.log('Not a browser, redirect url: '+e)},inWeixin:function(){return'undefined'!=typeof navigator&&-1!==navigator.userAgent.toLowerCase().indexOf('micromessenger')},inAlipay:function(){return'undefined'!=typeof navigator&&-1!==navigator.userAgent.toLowerCase().indexOf('alipayclient')},inWxLite:function(){return'undefined'!=typeof wx&&(wx.miniProgram||wx.requestPayment)},inAlipayLite:function(){return'undefined'!=typeof my&&my.tradePay},documentReady:function(e){'undefined'==typeof document||'loading'!=document.readyState?e():document.addEventListener('DOMContentLoaded',e)},loadUrlJs:function(e,n,t){var r=document.getElementsByTagName('head')[0],a=null;null==document.getElementById(e)?((a=document.createElement('script')).setAttribute('type','text/javascript'),a.setAttribute('src',n),a.setAttribute('id',e),a.async=!0,null!=t&&(a.onload=a.onreadystatechange=function(){if(a.ready)return!1;a.readyState&&'loaded'!=a.readyState&&'complete'!=a.readyState||(a.ready=!0,t())}),r.appendChild(a)):null!=t&&t()}}},{"./callbacks":2}],17:[function(e,n,t){n.exports={v:'2.2.21'}},{}]},{},[11])(11)});
//# sourceMappingURL=pingpp.js.map
